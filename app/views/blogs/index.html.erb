
<h1>BLOG</h1>

<strong>New Create</strong>
<% if @blog.errors.any? %>
    <%= @blog.error.count %>件入力されていません
    
    <ul>
        <% @blog.errors.full_messages. each do |message| %>
        <li><%= message %></li>
        <% end %>
    </ul>
<% end %>


<%= form_with model: @blog do |f| %>
 <h4>Title</h4>
  <%= f.text_field :title %>
  
  <h4>Body</h4>
  <%= f.text_area :body %>
  
  <%= f.submit "投稿する" %>
<% end %>

<h2>履歴</h2>

<table>
  <thead>
  <tr>
      <th>Date</th>
    <th>Title</th>
    <th colspan="3"></th>
  </tr>
  </thead>
  
   <tbody>
     <% @blogs.each do |blog| %>
  <tr>
      <td><%= l blog.created_at, format: :short %></td>
    <td><%= blog.title %></td>
    
    <td><%= link_to "編集", edit_blog_path(blog.id) %></td>
    <td><%= link_to "内容", blog_path(blog.id) %></td>
    <td><%= link_to "削除",  blog_path(blog.id), method: :delete, "data-confirm" => "削除しますか？" %></td>
  </tr>
  <% end %>
 </tbody>
</table>

